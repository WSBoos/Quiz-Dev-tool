services:
  Service 1:
    build: .
    image : 
    ports:
      - "-3000:3000"
  Service 2:
    build: .
    image : 
    ports:
      - "-3002:3002"
  Service 3:
    build: .
    image :
    ports:
      - "-3003:3003"
  prometheus:
    build: .
    image: /etc/prometheus/prometheus.yml
    volumes:
      - ./prometheus/:/etc/prometheus/
      - prometheus_data:/prometheus
    command:
      - '--config.file=/etc/prometheus/prometheus.yml'
      - '--storage.tsdb.path=/prometheus'
      - '--web.console.libraries=/usr/share/prometheus/console_libraries'
      - '--web.console.templates=/usr/share/prometheus/consoles'
    ports:
      - "-3002:9090"
  Grafana:
    build: .
    image : grafana/grafana
    ports:
      - "-9999:9999"
  Zipkin:
    build: .
    image : openzipkin/zipkin:latest
    ports:
      - "-9411:3000"
